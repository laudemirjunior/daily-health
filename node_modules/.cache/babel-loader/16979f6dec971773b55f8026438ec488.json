{"ast":null,"code":"var _jsxFileName = \"/home/laudemir/\\xC1rea de Trabalho/projeto-gestao-de-habitos/src/Providers/myGroupList/index.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport api from \"../../services\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MyGroupListContext = /*#__PURE__*/createContext();\nexport const MyGroupListProvider = ({\n  children\n}) => {\n  _s();\n\n  const user = localStorage.getItem(\"user\");\n  const [myGroupList, setMygroupList] = useState([]);\n  const token = `Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjM0NzY2MTQzLCJqdGkiOiI4ZmFkOGU4ODU1OGI0ZGFiOGJlZGI1YWNhYTYxOWQwMiIsInVzZXJfaWQiOjE1fQ.MyM-dshWnP1BhPl-jbGWJGvTpe_ujZzKuEN1N6so-pY`;\n\n  const getMyGroupList = () => {\n    api.get(\"/groups/subscriptions/\", {\n      headers: {\n        Authorization: token\n      }\n    }).then(response => setMygroupList(response.data)).catch(err => console.log(err));\n  };\n\n  useEffect(() => {\n    getMyGroupList();\n  }, []);\n\n  const createGroup = groupInfo => {\n    api.post(\"/groups/\", {\n      headers: {\n        Authorization: token\n      },\n      groupInfo\n    }).catch(err => console.log(err));\n  };\n\n  const subscribe = group => {\n    api.post(`/groups/${group.id}/subscribe/`, {\n      headers: {\n        Authorization: `Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjM0NzY2MTQzLCJqdGkiOiI4ZmFkOGU4ODU1OGI0ZGFiOGJlZGI1YWNhYTYxOWQwMiIsInVzZXJfaWQiOjE1fQ.MyM-dshWnP1BhPl-jbGWJGvTpe_ujZzKuEN1N6so-pY`\n      }\n    }).catch(err => console.log(err));\n  };\n\n  const unSubscribe = group => {\n    api.delete(`/groups/${group.id}/unsubscribe/`, {\n      headers: {\n        Authorization: token\n      }\n    }).then(() => getMyGroupList()).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(MyGroupListContext.Provider, {\n    value: {\n      myGroupList,\n      setMygroupList,\n      createGroup,\n      subscribe,\n      unSubscribe\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MyGroupListProvider, \"5xDGosrHrmd5RkPdm7hABPncF+0=\");\n\n_c = MyGroupListProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyGroupListProvider\");","map":{"version":3,"sources":["/home/laudemir/Ãrea de Trabalho/projeto-gestao-de-habitos/src/Providers/myGroupList/index.js"],"names":["createContext","useState","useEffect","axios","api","MyGroupListContext","MyGroupListProvider","children","user","localStorage","getItem","myGroupList","setMygroupList","token","getMyGroupList","get","headers","Authorization","then","response","data","catch","err","console","log","createGroup","groupInfo","post","subscribe","group","id","unSubscribe","delete"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,gBAAhB;;AACA,OAAO,MAAMC,kBAAkB,gBAAGL,aAAa,EAAxC;AAEP,OAAO,MAAMM,mBAAmB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AACnD,QAAMC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC,EAAD,CAA9C;AAEA,QAAMY,KAAK,GAAI,wNAAf;;AAEA,QAAMC,cAAc,GAAG,MAAM;AAC3BV,IAAAA,GAAG,CACAW,GADH,CACO,wBADP,EACiC;AAC7BC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAEJ;AADR;AADoB,KADjC,EAMGK,IANH,CAMSC,QAAD,IAAcP,cAAc,CAACO,QAAQ,CAACC,IAAV,CANpC,EAOGC,KAPH,CAOUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPlB;AAQD,GATD;;AAWApB,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,cAAc;AACf,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMW,WAAW,GAAIC,SAAD,IAAe;AACjCtB,IAAAA,GAAG,CACAuB,IADH,CACQ,UADR,EACoB;AAChBX,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAEJ;AADR,OADO;AAIhBa,MAAAA;AAJgB,KADpB,EAOGL,KAPH,CAOUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPlB;AAQD,GATD;;AAUA,QAAMM,SAAS,GAAIC,KAAD,IAAW;AAC3BzB,IAAAA,GAAG,CACAuB,IADH,CACS,WAAUE,KAAK,CAACC,EAAG,aAD5B,EAC0C;AACtCd,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG;AADT;AAD6B,KAD1C,EAMGI,KANH,CAMUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CANlB;AAOD,GARD;;AAUA,QAAMS,WAAW,GAAIF,KAAD,IAAW;AAC7BzB,IAAAA,GAAG,CACA4B,MADH,CACW,WAAUH,KAAK,CAACC,EAAG,eAD9B,EAC8C;AAC1Cd,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAEJ;AADR;AADiC,KAD9C,EAMGK,IANH,CAMQ,MAAMJ,cAAc,EAN5B,EAOGO,KAPH,CAOUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPlB;AAQD,GATD;;AAWA,sBACE,QAAC,kBAAD,CAAoB,QAApB;AACE,IAAA,KAAK,EAAE;AACLX,MAAAA,WADK;AAELC,MAAAA,cAFK;AAGLa,MAAAA,WAHK;AAILG,MAAAA,SAJK;AAKLG,MAAAA;AALK,KADT;AAAA,cASGxB;AATH;AAAA;AAAA;AAAA;AAAA,UADF;AAaD,CAjEM;;GAAMD,mB;;KAAAA,mB","sourcesContent":["import { createContext, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport api from \"../../services\";\nexport const MyGroupListContext = createContext();\n\nexport const MyGroupListProvider = ({ children }) => {\n  const user = localStorage.getItem(\"user\");\n  const [myGroupList, setMygroupList] = useState([]);\n\n  const token = `Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjM0NzY2MTQzLCJqdGkiOiI4ZmFkOGU4ODU1OGI0ZGFiOGJlZGI1YWNhYTYxOWQwMiIsInVzZXJfaWQiOjE1fQ.MyM-dshWnP1BhPl-jbGWJGvTpe_ujZzKuEN1N6so-pY`;\n\n  const getMyGroupList = () => {\n    api\n      .get(\"/groups/subscriptions/\", {\n        headers: {\n          Authorization: token,\n        },\n      })\n      .then((response) => setMygroupList(response.data))\n      .catch((err) => console.log(err));\n  };\n\n  useEffect(() => {\n    getMyGroupList();\n  }, []);\n\n  const createGroup = (groupInfo) => {\n    api\n      .post(\"/groups/\", {\n        headers: {\n          Authorization: token,\n        },\n        groupInfo,\n      })\n      .catch((err) => console.log(err));\n  };\n  const subscribe = (group) => {\n    api\n      .post(`/groups/${group.id}/subscribe/`, {\n        headers: {\n          Authorization: `Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjM0NzY2MTQzLCJqdGkiOiI4ZmFkOGU4ODU1OGI0ZGFiOGJlZGI1YWNhYTYxOWQwMiIsInVzZXJfaWQiOjE1fQ.MyM-dshWnP1BhPl-jbGWJGvTpe_ujZzKuEN1N6so-pY`,\n        },\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const unSubscribe = (group) => {\n    api\n      .delete(`/groups/${group.id}/unsubscribe/`, {\n        headers: {\n          Authorization: token,\n        },\n      })\n      .then(() => getMyGroupList())\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <MyGroupListContext.Provider\n      value={{\n        myGroupList,\n        setMygroupList,\n        createGroup,\n        subscribe,\n        unSubscribe,\n      }}\n    >\n      {children}\n    </MyGroupListContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}