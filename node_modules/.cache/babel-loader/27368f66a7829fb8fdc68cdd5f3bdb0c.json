{"ast":null,"code":"var _jsxFileName = \"/home/jpnonato/kenzie/sprint-4/entrega-1/projeto-gestao-de-habitos/src/components/formLogin/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { TextField } from '@material-ui/core';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport * as yup from 'yup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FormLogin = () => {\n  _s();\n\n  var _errors$username, _errors$password;\n\n  const history = useHistory();\n  const schema = yup.object().shape({\n    username: yup.string().required(''),\n    password: yup.string().required('')\n  });\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n\n  const handleForm = data => {\n    axios.post('https://kenzie-habits.herokuapp.com/sessions/', data).then(response => {\n      console.log(response.data);\n      const {\n        access\n      } = response.data;\n      localStorage.setItem('@Doit:token', JSON.stringify(access)); // return history.push('/dashboard')\n    }).catch(err => console.log(err.message));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit(handleForm),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"username\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        color: \"primary\",\n        ...register('username'),\n        error: !!errors.username,\n        helperText: (_errors$username = errors.username) === null || _errors$username === void 0 ? void 0 : _errors$username.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Senha\",\n        type: \"password\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        color: \"primary\",\n        ...register('password'),\n        error: !!errors.password,\n        helperText: (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 12\n  }, this);\n};\n\n_s(FormLogin, \"ff3pEqS2xVyeFwR0WBhEJgrSVJA=\", false, function () {\n  return [useHistory, useForm];\n});\n\n_c = FormLogin;\nexport default FormLogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormLogin\");","map":{"version":3,"sources":["/home/jpnonato/kenzie/sprint-4/entrega-1/projeto-gestao-de-habitos/src/components/formLogin/index.jsx"],"names":["TextField","useForm","yupResolver","useHistory","axios","yup","FormLogin","history","schema","object","shape","username","string","required","password","register","handleSubmit","formState","errors","resolver","handleForm","data","post","then","response","console","log","access","localStorage","setItem","JSON","stringify","catch","err","message"],"mappings":";;;AAAA,SAASA,SAAT,QAAyB,mBAAzB;AACA,SAAQC,OAAR,QAAsB,iBAAtB;AACA,SAAQC,WAAR,QAA0B,yBAA1B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AAAA;;AAEpB,QAAMC,OAAO,GAAGJ,UAAU,EAA1B;AAEA,QAAMK,MAAM,GAAGH,GAAG,CAACI,MAAJ,GAAaC,KAAb,CAAmB;AAChCC,IAAAA,QAAQ,EAAEN,GAAG,CAACO,MAAJ,GAAaC,QAAb,CAAsB,EAAtB,CADsB;AAEhCC,IAAAA,QAAQ,EAAET,GAAG,CAACO,MAAJ,GAAaC,QAAb,CAAsB,EAAtB;AAFsB,GAAnB,CAAf;AAKA,QAAM;AACFE,IAAAA,QADE;AAEFC,IAAAA,YAFE;AAGFC,IAAAA,SAAS,EAAE;AAACC,MAAAA;AAAD;AAHT,MAIFjB,OAAO,CAAC;AAACkB,IAAAA,QAAQ,EAAEjB,WAAW,CAACM,MAAD;AAAtB,GAAD,CAJX;;AAMA,QAAMY,UAAU,GAAIC,IAAD,IAAU;AAC3BjB,IAAAA,KAAK,CAACkB,IAAN,CAAW,+CAAX,EAA4DD,IAA5D,EACGE,IADH,CACSC,QAAD,IAAc;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACH,IAArB;AACA,YAAK;AAACM,QAAAA;AAAD,UAAWH,QAAQ,CAACH,IAAzB;AAEAO,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAeJ,MAAf,CAApC,EAJgB,CAMhB;AACH,KARH,EASGK,KATH,CASUC,GAAD,IAASR,OAAO,CAACC,GAAR,CAAYO,GAAG,CAACC,OAAhB,CATlB;AAWD,GAZD;;AAcA,sBACO;AAAM,IAAA,QAAQ,EAAElB,YAAY,CAACI,UAAD,CAA5B;AAAA,4BACK;AAAA,6BACI,QAAC,SAAD;AACI,QAAA,KAAK,EAAC,UADV;AAEI,QAAA,MAAM,EAAC,QAFX;AAGI,QAAA,OAAO,EAAC,UAHZ;AAII,QAAA,KAAK,EAAC,SAJV;AAAA,WAKQL,QAAQ,CAAC,UAAD,CALhB;AAMI,QAAA,KAAK,EAAE,CAAC,CAACG,MAAM,CAACP,QANpB;AAOI,QAAA,UAAU,sBAAEO,MAAM,CAACP,QAAT,qDAAE,iBAAiBuB;AAPjC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADL,eAYK;AAAA,6BACI,QAAC,SAAD;AACI,QAAA,KAAK,EAAC,OADV;AAEI,QAAA,IAAI,EAAC,UAFT;AAGI,QAAA,MAAM,EAAC,QAHX;AAII,QAAA,OAAO,EAAC,UAJZ;AAKI,QAAA,KAAK,EAAC,SALV;AAAA,WAMQnB,QAAQ,CAAC,UAAD,CANhB;AAOI,QAAA,KAAK,EAAE,CAAC,CAACG,MAAM,CAACJ,QAPpB;AAQI,QAAA,UAAU,sBAAEI,MAAM,CAACJ,QAAT,qDAAE,iBAAiBoB;AARjC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAZL;AAAA;AAAA;AAAA;AAAA;AAAA,UADP;AA2BD,CAxDH;;GAAM5B,S;UAEcH,U,EAWZF,O;;;KAbFK,S;AA0DJ,eAAeA,SAAf","sourcesContent":["import { TextField} from '@material-ui/core'\nimport {useForm} from 'react-hook-form'\nimport {yupResolver} from '@hookform/resolvers/yup'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport * as yup from 'yup'\n\nconst FormLogin = () => {\n\n    const history = useHistory()\n\n    const schema = yup.object().shape({\n      username: yup.string().required(''),\n      password: yup.string().required(''),\n    })\n  \n    const { \n        register,\n        handleSubmit,\n        formState: {errors}\n    } = useForm({resolver: yupResolver(schema)})\n  \n    const handleForm = (data) => {\n      axios.post('https://kenzie-habits.herokuapp.com/sessions/', data)\n        .then((response) => {\n            console.log(response.data)\n            const{access} = response.data\n\n            localStorage.setItem('@Doit:token', JSON.stringify(access))\n\n            // return history.push('/dashboard')\n        })\n        .catch((err) => console.log(err.message)) \n      \n    }\n\n    return (\n           <form onSubmit={handleSubmit(handleForm)}>\n                <div>\n                    <TextField \n                        label='username'\n                        margin='normal'\n                        variant=\"outlined\"\n                        color='primary'\n                        {...register('username')}\n                        error={!!errors.username}\n                        helperText={errors.username?.message}\n                    />                       \n                </div>\n                <div>\n                    <TextField \n                        label='Senha'\n                        type='password'\n                        margin='normal'\n                        variant=\"outlined\"\n                        color='primary'\n                        {...register('password')}\n                        error={!!errors.password}\n                        helperText={errors.password?.message}\n                    />          \n                </div>\n            </form>\n    )\n  };\n  \n  export default FormLogin;"]},"metadata":{},"sourceType":"module"}